<!DOCTYPE html>
<!-- Coding By CodingNepal - codingnepalweb.com -->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!----======== CSS ======== -->
    <link rel="stylesheet" href="./css/navSidebar.css">

    <!----===== Iconscout CSS ===== -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">


    <title>Admin Dashboard Panel</title>
</head>

<body>
    <nav>
        <div class="logo-name">
            <!--        <div class="logo-image">
              <img src="./image/little-edellweiss.regular.webp" alt="">
          </div>-->

            <span class="logo_name">DailyEnglish</span>
        </div>

        <div class="menu-items">
            <ul class="nav-links">
                <li><a href="index.html">
                        <i class="uil uil-estate"></i>
                        <span class="link-name">主页</span>
                    </a></li>
                <!--            <li><a href="issuePunch.html">-->
                <!--                <i class="uil uil-calendar-alt"></i>-->
                <!--                <span class="link-name">打卡发布</span>-->
                <!--            </a></li>-->
                <li><a href="history.html">
                        <i class="uil uil-calender"></i>
                        <span class="link-name">考试相关</span>
                    </a></li>
                <!--            <li><a href="test-statistics.html">-->
                <!--                <i class="uil uil-chart"></i>-->
                <!--                <span class="link-name">考试情况</span>-->
                <!--            </a></li>-->
                <li><a href="manage.html">
                        <i class="uil uil-meh-alt"></i>
                        <span class="link-name">成员管理</span>
                    </a></li>
                <li><a href="user.html">
                        <i class="uil uil-user"></i>
                        <span class="link-name">个人中心</span>
                    </a></li>
            </ul>

            <ul class="logout-mode">
                <li><a href="login&register.html" onclick="logout()">
                        <i class="uil uil-signout"></i>
                        <span class="link-name">Logout</span>
                    </a></li>

                <li class="mode">
                    <a href="#">
                        <i class="uil uil-moon"></i>
                        <span class="link-name">Dark Mode</span>
                    </a>

                    <div class="mode-toggle">
                        <span class="switch"></span>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <section class="dashboard">
        <div class="top">
            <i class="uil uil-bars sidebar-toggle"></i>

            <div class="search-box">
                <i class="uil uil-search"></i>
                <input type="text" placeholder="Search here...">
            </div>

            <img src="image/pikachu.jpg" alt="">
        </div>

        <div class="dash-content">
            <div class="tabs">
                <button class="tab-button active" onclick="openTab(event, 'tab1')">系统评分</button>
                <button class="tab-button" onclick="openTab(event, 'tab2')">教师评分</button>
            </div>
            <div id="tab1" class="tab-content" style="display: block;">
                <div style="display: flex;">
                    <div class="row1">
                        <div class="circle-container">
                            <span class="score">90</span>
                            
                        </div>
                        <span>总分</span>
                    </div>
                    <div class="row2">
                        <div class="line">
                            <span>语言</span>
                            <span class="star" id="starRating">
                                <label data-value="5">★</label>
                                <label data-value="4">★</label>
                                <label data-value="3">★</label>
                                <label data-value="2">★</label>
                                <label data-value="1">★</label>
                            </span>
                        </div>
                        <div class="line">
                            <span>内容</span>
                            <span class="star" id="starRating">
                                <label data-value="5">★</label>
                                <label data-value="4">★</label>
                                <label data-value="3">★</label>
                                <label data-value="2">★</label>
                                <label data-value="1">★</label>
                            </span>
                        </div>
                        <div class="line">
                            <span>结构</span>
                            <span class="star" id="starRating">
                                <label data-value="5">★</label>
                                <label data-value="4">★</label>
                                <label data-value="3">★</label>
                                <label data-value="2">★</label>
                                <label data-value="1">★</label>
                            </span>
                        </div>
                        <div class="line">
                            <span>规范</span>
                            <span class="star" id="starRating">
                                <label data-value="5">★</label>
                                <label data-value="4">★</label>
                                <label data-value="3">★</label>
                                <label data-value="2">★</label>
                                <label data-value="1">★</label>
                            </span>
                        </div>
                    </div>
                    <div class="row3">
                        <span style="margin-top:-10px;font-weight: bold;">评语：</span>
                        <textarea class="pinglun">句子较为流畅，少量句子不画回顺。
                            筒单句与各类复杂句交替使用，文章牛动、丰富、有节奏感，表达力较强。
                            词汇积累不足，建议增加词汇积器，提升词汇量。
                            语法使用不够准确，部分表达欠妥，建议根据纠错结果进行修改，加强相关语法规则
                            学习。
                            存在少量单词拼写错误，但不响整体文意表达。
                        </textarea>
                    </div>
                </div>
            </div>
            <div id="tab2" class="tab-content">
                <div class="teacher-score">
                    <div class="score">
                        <span>教师评分：</span>
                        <input id="teacherMark" />
                    </div>
                    <div class="evaluate">
                        <span>教师评价：</span>
                        <textarea id="teacherEvaluate"></textarea>
                    </div>
                    <div class="comfirm">
                        <button>提交</button>
                    </div>
                </div>
            </div>

            <div class="composition">
                <div class="composition-title">
                    <span>作文原文</span>
                </div>
                <div class="composition-content">
                    <p id="rawEssay">i have a dream</p>
                </div>
            </div>

            <div class="comment-container">
                <div class="composition-title">
                    <span>批改结果</span>
                </div>
                <div class="comment-content">
                    <div class="paragraph-container">
                        <div class="paragraph">
                            <span style="font-weight: bold;">第一段</span>
                            <div class="sentences">
                                <div class="sentence-container">
                                    <div class="sentence">
                                        <span class="sentence_no">1.1</span>
                                        <span class="sentence_detail">i have a dream</span>
                                    </div>
                                    <div class="contents">
                                        <div class="content">
                                            <span class="error_type">错误类型：</span>
                                            <span class="error_detail">代词类型混淆会使指代对象有误，建议将【much】修改为【many】</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="sentence-container">
                                    <span class="sentence_no">1.2 </span>
                                    <span class="sentence_detail">i have a dream</span>
                                </div>
                            </div>
                        </div>
                        <div class="paragraph">
                            <span style="font-weight: bold;">第一段</span>
                            <div class="sentences">
                                <div class="sentence-container">
                                    <div class="sentence">
                                        <span class="sentence_no">1.1</span>
                                        <span class="sentence_detail">i have a dream</span>
                                    </div>
                                    <div class="contents">
                                        <div class="content">
                                            <span class="error_type">错误类型：</span>
                                            <span class="error_detail">代词类型混淆会使指代对象有误，建议将【much】修改为【many】</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="sentence-container">
                                    <span class="sentence_no">1.2 </span>
                                    <span class="sentence_detail">i have a dream</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
<style>
    .tabs {
        display: flex;
        margin-left: 2%;
        margin-top: 3%;
        width: fit-content;
        border-radius: 7%;
    }

    .tabs {
        border-bottom: 2px solid #f5f5f5;
    }

    .tab-button {
        background-color: white;
        border: none;
        padding: 2px 20px;
        height: 30px;
        cursor: pointer;
        font-size: large;
        border-radius: 7%;
        transition: background-color 0.3s;
    }

    .tab-button:hover {
        background-color: #f1f1f1;
        color: black;
    }

    .tab-button.active {
        background-color: #456de7;
        color: white;
    }

    .tab-content {
        display: none;
        border-top: none;
        width: 900px;
        height: auto;
        background-color: white;
        margin-left: 20px;
        padding: 20px 20px 10px 10px;
        height: 180px;
        border-radius: 5px;
    }

    .row1 {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 15%;
        border-right: 1px solid #f5f5f5;
        height: 100%;
    }

    .circle-container {
        display: flex;
        padding: 10px;
        height: 90px;
        width: 90px;
        border-radius: 50%;
        background-color: transparent;
        text-align: center;
        align-items: center;
        justify-content: center;
        border: 2px solid #4bd2a4;
        position: relative;
    }
    .score{
        font-size: 39px;
        color:#4bd2a4
    }

    .row2 {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 30%;
        border-right: 1px solid #f5f5f5;
        height: 100%;
    }

    .line {
        display: flex;
        width: 100%;
        height: 30px;
        align-items: center;
        gap: 5px;
    }

    .row3 {
        display: flex;
        flex-direction: column;
        width: 50%;
        height: 100%;
    }

    .pinglun {
        width: 100%;
        height: 110px;
        border: none;
        border-radius: 5px;
        padding: 5px;
        resize: none;
        overflow: auto;
        scrollbar-width: none;
        /* Firefox */
        -ms-overflow-style: none;
        /* IE 10+ */
    }

    .pinglun::-webkit-scrollbar {
        display: none;
        /* Chrome, Safari, Edge */
    }

    .star {
        display: flex;
        font-size: 2em;
        direction: rtl;
        margin-left: 20px;
        /* 设置从右到左排列 */
    }

    .star label {
        color: #ccc;
        cursor: default;
        transition: color 0.2s;
        margin-left: 5px;
        /* 间距 */
    }

    .star .filled {
        color: gold;
    }

    .composition {
        margin-top: 20px;
        width: 90%;
        height: auto;
        border-radius: 5px;
        background-color: white;
        padding: 20px;
        margin-left: 20px;
        height: auto;
    }

    .composition-title {
        font-size: 20px;
        font-weight: 500;
        margin-bottom: 10px;
    }

    .composition-content {
        font-size: 16px;
        line-height: 1.5;
    }

    .comment-container {
        margin-top: 20px;
        width: 90%;
        height: auto;
        border-radius: 5px;
        background-color: white;
        padding: 10px 20px 10px 20px;
        margin-left: 20px;
        height: auto;
        border: 1px solid #cdcdcd;
    }

    .comment-content {
        font-size: 16px;
        line-height: 1.5;
        border-top: 1px solid #ccc;
    }

    .paragraph-container {
        margin-top: 10px;
    }

    .paragraph {
        margin-bottom: 10px;
    }

    .sentences {
        margin-top: 10px;
    }

    .sentence-container {
        display: flex;
        height: auto;
        padding-bottom: 10px;
        padding-top: 10px;

        border-bottom: 1px solid #ccc;
    }

    .sentence {
        width: 50%;
    }

    .contents {
        width: 50%;
        gap: 5px;
    }

    .content {
        width: 100%;
        display: flex;
        flex-direction: column;
    }

    .sentence_no {
        font-weight: bold;
    }

    .sentence_detail {
        margin-left: 10px;

    }

    .error_type {
        font-weight: bold;
    }

    .error_detail {
        font-size: 14px;
        width: 90%;
    }

    .teacher-score {
        margin-left: 20px;
        font-size: 18px;
    }

    .teacher-score .score {
        display: flex;
    }

    .teacher-score .score input {
        border-bottom: 1px solid #ccc;
        border-top: none;
        border-left: none;
        border-right: none;
        text-align: center;
        font-size: 17px;
    }

    .evaluate {
        display: flex;
        margin-top: 10px;
    }

    .evaluate textarea {
        min-width: 80%;
        min-height: 40px;
        height: fit-content;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 5px;
        resize: none;
        font-size: 17px;
    }

    .comfirm button {
        width: 60px;
        height: 30px;
        margin-top: 10px;
        margin-left: 40%;
        background-color: white;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .comfirm button:hover {
        background-color: #f1f1f1;

    }
</style>
<script>
    //机器评分的结果
    let EssayMachineMark = {
        // 请求原文
        rawEssay: "Nowadays, more and more middle-aged people are suffering from insomnia, as life for the middle-aged is stressful indeed. For one thing, as they are the backbones of their companies, they have plenty of things to do at work. And they usually have to work overtime. For another, they have to take great responsibilities at home, for their aged parents need to be supported and their little children need to be brought up. That's why they don't have enough time to have a good rest.To sleep well, some of them often take sleeping pills. I don't think it's good for them to do so, because the sleeping pills can only get rid of the sign of insomnia, not the cause. And taking too much sleeping pills is bad for their health.Therefore, I suggest those middle-aged people should know how to relax themselves and rest their brains. Taking a simple work after supper will be beneficial for them. Besides, they can have a glass of milk before going to bed, which can be helpful for their sleep.",
        sentNum: 11,// 文章句子数
        essayAdvice: "作文整体水平较高",// 文章最终评价
        totalScore: 95,//总分，所有分数满分都是100
        majorScore: {//各模块得分
            grammarScore: 89.8,//语言得分
            grammarAdvice: "存在少量语法错误，建议认真检查",
            topicScore: 66.2,//内容得分
            structureScore: 88.3,//结构得分
            structureAdvice: "逻辑性不错，上下文关系衔接较为紧密",//结构评价
            wordScore: 89,// 词汇得分
            wordAdvice: "单词拼写基本正确，单词拼写基础扎实；词汇量较为丰富，能使用一定数量的高级词汇",// 词汇评价
        },
        essayFeedback: {//文章批改结果
            sentsFeedback: [// 句子内容及得分
                {
                    paraId: 0,// 段落id，从0有序编号
                    sentId: 7,// 句子id，从0有序编号
                    // 原句
                    rawSent: "And taking too much sleeping pills is bad for their health.",
                    errorPosInfos: [// 错误信息
                        {
                            // 错误内容
                            errorTypeTitle: "不同类代词混淆",
                            // 错误基本信息
                            errBaseInfo: "代词类型混淆会使指代对象有误，建议将【much】修改为【many】",
                            startPos: 15,// 错误开始位置
                            endPos: 19,// 错误结束位置
                            //从原句下标[startPos, endPos)中提取出的错误内容并标红显示
                        }
                    ],
                    //正确句子
                    correctedSent: "And taking too many sleeping pills is bad for their health.",
                }
            ]
        }
    }
    //教师评分的请求参数
    let teacherScoreParams = {
        teacherMark: 75.7,// 教师评分
        teacherEvaluate: "作文整体水平较高，语言表达清晰，内容丰富，结构合理，词汇量较为丰富，句子通顺，错误率较低。",// 教师评价
    }

    function openTab(event, tabId) {
        // Hide all tab contents
        var tabContents = document.querySelectorAll('.tab-content');
        tabContents.forEach(function (content) {
            content.style.display = 'none';
        });

        // Remove 'active' class from all tab buttons
        var tabButtons = document.querySelectorAll('.tab-button');
        tabButtons.forEach(function (button) {
            button.classList.remove('active');
        });

        // Show the selected tab content and add 'active' class to the clicked tab button
        document.getElementById(tabId).style.display = 'block';
        event.currentTarget.classList.add('active');
    }
    document.addEventListener('DOMContentLoaded', function () {
        // 模拟从后端获取的评分数据
        const rating = 3.5; // 例如后端返回的评分数据是 4

        // 获取星星容器
        const starRating = document.getElementById('starRating');
        const stars = starRating.querySelectorAll('label');

        // 根据评分数据显示星星
        stars.forEach(star => {
            const starValue = parseFloat(star.getAttribute('data-value'));
            if (starValue <= rating) {
                star.classList.add('filled');
            }
        });
    });
    //!!!!!!!!!!!!!!!!!!!!!!!!!1
    // 获取 textarea 元素
    var textarea = document.querySelector('.evaluate textarea');

    // 添加事件监听器
    textarea.addEventListener('input', autoResize, false);


    function autoResize() {
        this.style.height = 'auto';
        if (this.scrollHeight > 120) { // 设置最大高度为 200px
            this.style.height = '120px';
            this.style.overflowY = 'auto'; // 如果超过最大高度，显示滚动条
        } else {
            this.style.height = this.scrollHeight + 'px';
        }
    }
</script>

</html>